@page "/FamilyTree"

<link rel="stylesheet" href="NavMenu.css" />
<PageTitle>Stamtræ</PageTitle>



<div class="nav">
    <NavLink class="nav-menu">
        <li><button>Home</button></li>
        <a></a>
        <li><button>Export</button></li>
        <a></a>
        <li><button>Upload</button></li>
    </NavLink>
</div>


<section class="familyTreeContainer" id="optionsContainer">

    <article class="familyTreeOptions">
        <input type="text" id="tilføj" name="tilføj"> <input type="button">
        <a>Tilføj person til stamtræ</a>
    </article>

    <article class="familyTreeOptions">
        <a>Slet person fra stamtræ</a>
    </article>

    <article class="familyTreeOptions">
        <a>Se din arv</a>
    </article>

</section>

<section class="familyTreeContainer" id="familyTree">
    <table id="tableFamilyTree">
        <tr class="tableRow">
            <th> Navn </th>
            <th> Arveklasse </th>
        </tr>
        @foreach (var inheritor in inheritors) {
            <tr>
                <td>@inheritor.Name</td>
                <td>1</td>
            </tr>
        }
    </table>
</section>

<section>

</section>

<!-- Vis personligt tilknyttet arv og aktiver - modul -->

<dialog id="showAssignedAssets">
    <section>
        <a>Navn</a>
        <a>Arveklasse</a>
    </section>
    <section>
        <ul id="listOfPersonalAssets">
        </ul>    
    </section>
    <button>Tilføj aktiv</button>   
</dialog>

<!-- Tilføj aktiv til person - form -->

<form hidden method="post" id="addPersonalAsset">

    <a>Navn</a>

    <!-- Her tænker jeg i skal gøre brug af en select med option groups
    Options ville være de forskellige kategorier af aktiver.-->

    <label for="asset">Aktiv</label><br>
    <input type="text" id="asset" name="asset"><br><br>

    <button type="submit">Tilføj aktiv til person</button> 
</form>

<!-- Tilføj arving -->

<EditForm Model="newInheritor" FormName="formInheritor" OnSubmit="Submit">
    <div>
        <div>
            <label for ="name">Navn:</label>
        </div>
        <div>
            <InputText @bind-Value="newInheritor.Name"></InputText>
        </div>
        <button type="submit">Tilføj arving</button>
    </div>
</EditForm>


<!-- ekstra  -->

<!-- 
<label for="relation">Relation</label><br>
<select id="relation" name="relation" required> 
<optgroup label="1. arveklasse">
<option value="spouse">Ægtefælle</option>
<option value="child">Barn</option>
</optgroup>
<optgroup label="2. arveklasse">
<option value="spou">Ægtefælle</option>
<option value="child">Barn</option>
</optgroup>
</select>
<br><br> -->

@code {
    private List<Inheritor> inheritors {get; set;} = new();
     protected override void OnInitialized()
    {
        inheritors.Add(new Inheritor("Frederikke"));
        inheritors.Add(new Inheritor("Kristoffer"));
        inheritors.Add(new Inheritor("Gustav"));
    } 

    
    private Inheritor? newInheritor;

    private void Submit()
    {
        Inheritor inheritorToBeAdded = new Inheritor(newInheritor.Name);
        inheritors.Add(inheritorToBeAdded);

        <!-- if(!string.IsNullOrWhiteSpace(newInheritor.Name)) 
        {
        inheritors.Add(new Inheritor { Name = newInheritor.Name});
        newInheritor = new Inheritor();
        }  -->
    }

<!-- private void HandleAdd()
{
    // Tilføj den nye arving til listen
    inheritors.Add(new Inheritor
    {
        Name = newInheritor.Name,
    });

    // Nulstil formularen til næste input
    
    newInheritor = new Inheritor();
} -->

}